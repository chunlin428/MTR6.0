<html>
<head>
    <title></title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <link href="../../../../lib/zTree/3.5.28/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" />
    <script src="../../../../lib/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../../lib/backbone/underscore-min.js"></script>
    <script src="../../../../lib/zTree/3.5.28/js/jquery.ztree.all.js"></script>
    <script src="../js/MTRTreeView.js"></script>
    <script type="text/javascript">
        $(function () {
            var ff=function () {
                alert("Hello，I'm is "+event.srcElement.outerText);
            }
            var setting={
               /* callback:{
                   onClick:ff
                }*/
            };
            function filter() {
                var zNodes = [];
                for (var i = 0; i < 10; i++) {
                    var obj = { id: (i + 1), pId: 0, name: "父节点" + (i + 1) };
                    zNodes.push(obj);
                    for (var j = 0; j < 3; j++) {
                        var obj = { id: (i + 1).toString() + "000" + (j + 1).toString(), pId: (i + 1), name: "父节点" + (i + 1).toString() + "000" + (j + 1).toString() };
                        zNodes.push(obj);
                        for (var z = 0; z < 3; z++) {
                            var obj = { id: (i + 1).toString() + "000" + (j + 1).toString() + (z + 1).toString(), pId: (i + 1).toString() + "000" + (j + 1).toString(), name: "父节点" + (i + 1).toString() + "000" + (j + 1).toString() + (z + 1).toString() };
                            zNodes.push(obj);
                        }
                    }
                }
                return zNodes;
            }
            var options = { container: $("#div_Tree"), settings: setting, data: filter() };
            var kk = $('#div_Tree').MTRTreeView.Init(options);
            var addNode = function (event) {
                var selectNode = kk.GetSelectedNodes()[0];
                var addNode={id:"dd",pId:"",name:"aaa"};
                kk.AddNodes(selectNode,addNode,false);
            };

            $('#addNode').click(addNode);

//            var options2 = { container: $("#div_Tree2"), settings: setting, data: filter() };
//            var kk2 = $('#div_Tree2').MTRTreeView.Init(options2);


//            MTRTreeView.Init(options);

//            MTRTreeView.AddClickEvent(ff);

        });
        function addNode() {
            var selectNode = MTRTreeView.GetSelectedNodes()[0];
            var addNode={id:"dd",pId:"",name:"aaa"};

            MTRTreeView.AddNodes(selectNode,addNode,false);
        }
        function editNode() {
            var selectNode = MTRTreeView.GetSelectedNodes()[0];
            selectNode.name="dd";

            MTRTreeView.EditNode(selectNode);
        }
        function delNode() {
            var selectNode = MTRTreeView.GetSelectedNodes()[0];
            MTRTreeView.RemoveNode(selectNode);
        }
    </script>
</head>
<body>
<button id="addNode" >新增</button>
<button onclick="editNode()">编辑</button>
<button onclick="delNode()">删除</button>
<div>
    <div id="div_Tree" class="ztree"></div>
    <br>
    <br>
    <br>
    <h1>33faswdfdasfdasfdasf</h1>
    <div id="div_Tree2" class="ztree"></div>

</div>
</body>
</html>
